<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Development Team - TripFactory</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: 'Inter', sans-serif; background: #f1f5f9; }
        .skill-tag { display: inline-block; padding: 2px 8px; border-radius: 12px; font-size: 11px; margin: 2px; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen">
    
    <!-- Header -->
    <header class="bg-white border-b border-slate-200 sticky top-0 z-40">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center gap-4">
                    <div class="h-10 w-10 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold">TF</div>
                    <div>
                        <h1 class="text-xl font-bold text-slate-800">Development Team</h1>
                        <p class="text-xs text-slate-500">Resource Management</p>
                    </div>
                </div>
                <div class="flex items-center gap-3">
                    <button onclick="exportTeam()" class="px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-sm font-medium transition">
                        <i class="fas fa-download mr-2"></i>Export
                    </button>
                    <button onclick="window.location.href='index.html'" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition">
                        <i class="fas fa-arrow-left mr-2"></i>Back to Hub
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <!-- Add Team Member Form -->
        <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-8">
            <h2 class="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                <i class="fas fa-user-plus text-blue-600"></i>
                Add Team Member
            </h2>
            
            <form id="teamForm" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">Full Name *</label>
                    <input type="text" id="memberName" required placeholder="e.g., Sarah Kumar"
                           class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">Position / Role *</label>
                    <input type="text" id="memberRole" required placeholder="e.g., Senior Frontend Developer"
                           class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">Section *</label>
                    <select id="memberSection" required
                            class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none">
                        <option value="">Select...</option>
                        <option value="Frontend">Frontend</option>
                        <option value="Backend">Backend</option>
                        <option value="Full Stack">Full Stack</option>
                        <option value="DevOps">DevOps</option>
                        <option value="Data/Analytics">Data/Analytics</option>
                        <option value="QA">QA</option>
                        <option value="Management">Management</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">Reports To</label>
                    <input type="text" id="memberReportsTo" placeholder="e.g., Ajay Kawa"
                           class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">Email *</label>
                    <input type="email" id="memberEmail" required placeholder="sarah.kumar@tripfactory.com"
                           class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">Phone</label>
                    <input type="tel" id="memberPhone" placeholder="+44 7700 900123"
                           class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">Location</label>
                    <input type="text" id="memberLocation" placeholder="London, UK"
                           class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">Status</label>
                    <select id="memberStatus"
                            class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none">
                        <option value="Active">Active</option>
                        <option value="On Leave">On Leave</option>
                        <option value="Contractor">Contractor</option>
                    </select>
                </div>
                
                <div class="md:col-span-2">
                    <label class="block text-sm font-medium text-slate-700 mb-1">Skills (comma separated) *</label>
                    <input type="text" id="memberSkills" required placeholder="React, TypeScript, Tailwind CSS, Node.js"
                           class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none">
                    <p class="text-xs text-slate-500 mt-1">Enter skills separated by commas</p>
                </div>
                
                <div class="md:col-span-2 flex gap-3">
                    <button type="submit" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition">
                        <i class="fas fa-save mr-2"></i>Add Member
                    </button>
                    <button type="button" onclick="clearForm()" class="px-6 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 font-medium rounded-lg transition">
                        Clear
                    </button>
                </div>
            </form>
        </div>

        <!-- Stats Cards -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
            <div class="bg-white rounded-lg shadow-sm border border-slate-200 p-4 text-center">
                <div class="text-2xl font-bold text-slate-800" id="totalMembers">0</div>
                <div class="text-xs text-slate-500">Total Members</div>
            </div>
            <div class="bg-white rounded-lg shadow-sm border border-slate-200 p-4 text-center">
                <div class="text-2xl font-bold text-blue-600" id="frontendCount">0</div>
                <div class="text-xs text-slate-500">Frontend</div>
            </div>
            <div class="bg-white rounded-lg shadow-sm border border-slate-200 p-4 text-center">
                <div class="text-2xl font-bold text-green-600" id="backendCount">0</div>
                <div class="text-xs text-slate-500">Backend</div>
            </div>
            <div class="bg-white rounded-lg shadow-sm border border-slate-200 p-4 text-center">
                <div class="text-2xl font-bold text-purple-600" id="fullstackCount">0</div>
                <div class="text-xs text-slate-500">Full Stack</div>
            </div>
        </div>

        <!-- Filters -->
        <div class="flex flex-wrap gap-2 mb-6">
            <button onclick="filterTeam('all')" class="filter-btn px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium transition" data-filter="all">All</button>
            <button onclick="filterTeam('Frontend')" class="filter-btn px-4 py-2 bg-white text-slate-600 border border-slate-300 rounded-lg text-sm font-medium hover:bg-slate-50 transition" data-filter="Frontend">Frontend</button>
            <button onclick="filterTeam('Backend')" class="filter-btn px-4 py-2 bg-white text-slate-600 border border-slate-300 rounded-lg text-sm font-medium hover:bg-slate-50 transition" data-filter="Backend">Backend</button>
            <button onclick="filterTeam('Full Stack')" class="filter-btn px-4 py-2 bg-white text-slate-600 border border-slate-300 rounded-lg text-sm font-medium hover:bg-slate-50 transition" data-filter="Full Stack">Full Stack</button>
            <button onclick="filterTeam('DevOps')" class="filter-btn px-4 py-2 bg-white text-slate-600 border border-slate-300 rounded-lg text-sm font-medium hover:bg-slate-50 transition" data-filter="DevOps">DevOps</button>
        </div>

        <!-- Team Table -->
        <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
            <div class="overflow-x-auto">
                <table class="w-full text-left border-collapse">
                    <thead>
                        <tr class="bg-slate-50 border-b border-slate-200">
                            <th class="px-4 py-3 text-xs font-semibold text-slate-600 uppercase">Name</th>
                            <th class="px-4 py-3 text-xs font-semibold text-slate-600 uppercase">Position</th>
                            <th class="px-4 py-3 text-xs font-semibold text-slate-600 uppercase">Section</th>
                            <th class="px-4 py-3 text-xs font-semibold text-slate-600 uppercase">Contact</th>
                            <th class="px-4 py-3 text-xs font-semibold text-slate-600 uppercase">Skills</th>
                            <th class="px-4 py-3 text-xs font-semibold text-slate-600 uppercase">Reports To</th>
                            <th class="px-4 py-3 text-xs font-semibold text-slate-600 uppercase">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="teamTableBody" class="divide-y divide-slate-200">
                        <!-- Rows inserted here -->
                    </tbody>
                </table>
            </div>
            <div id="emptyState" class="p-8 text-center text-slate-500 hidden">
                <i class="fas fa-users text-4xl mb-3 text-slate-300"></i>
                <p>No team members added yet.</p>
            </div>
        </div>
    </main>

    <script>
        let team = JSON.parse(localStorage.getItem('tf_team')) || [];
        
        // Form submission
        document.getElementById('teamForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const member = {
                id: Date.now(),
                name: document.getElementById('memberName').value,
                role: document.getElementById('memberRole').value,
                section: document.getElementById('memberSection').value,
                reportsTo: document.getElementById('memberReportsTo').value,
                email: document.getElementById('memberEmail').value,
                phone: document.getElementById('memberPhone').value,
                location: document.getElementById('memberLocation').value,
                status: document.getElementById('memberStatus').value,
                skills: document.getElementById('memberSkills').value.split(',').map(s => s.trim()).filter(s => s)
            };
            
            team.push(member);
            localStorage.setItem('tf_team', JSON.stringify(team));
            
            renderTeam();
            clearForm();
            updateStats();
            showNotification('Team member added');
        });
        
        function renderTeam(filter = 'all') {
            const tbody = document.getElementById('teamTableBody');
            const emptyState = document.getElementById('emptyState');
            
            let filteredTeam = filter === 'all' ? team : team.filter(m => m.section === filter);
            
            if (filteredTeam.length === 0) {
                tbody.innerHTML = '';
                emptyState.classList.remove('hidden');
                return;
            }
            
            emptyState.classList.add('hidden');
            
            tbody.innerHTML = filteredTeam.map(member => `
                <tr class="hover:bg-slate-50">
                    <td class="px-4 py-3">
                        <div class="font-medium text-slate-800">${escapeHtml(member.name)}</div>
                        ${member.location ? `<div class="text-xs text-slate-500"><i class="fas fa-map-marker-alt mr-1"></i>${escapeHtml(member.location)}</div>` : ''}
                    </td>
                    <td class="px-4 py-3 text-sm text-slate-600">${escapeHtml(member.role)}</td>
                    <td class="px-4 py-3">
                        <span class="px-2 py-1 ${getSectionColor(member.section)} text-xs font-medium rounded">
                            ${member.section}
                        </span>
                    </td>
                    <td class="px-4 py-3 text-sm">
                        <div><a href="mailto:${member.email}" class="text-blue-600 hover:underline">${escapeHtml(member.email)}</a></div>
                        ${member.phone ? `<div class="text-slate-500 text-xs">${escapeHtml(member.phone)}</div>` : ''}
                    </td>
                    <td class="px-4 py-3">
                        <div class="flex flex-wrap gap-1">
                            ${member.skills.map(skill => `
                                <span class="skill-tag bg-blue-100 text-blue-700">${escapeHtml(skill)}</span>
                            `).join('')}
                        </div>
                    </td>
                    <td class="px-4 py-3 text-sm text-slate-600">${escapeHtml(member.reportsTo || '-')}</td>
                    <td class="px-4 py-3">
                        <div class="flex gap-2">
                            <button onclick="editMember(${member.id})" class="text-blue-600 hover:text-blue-800" title="Edit">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button onclick="deleteMember(${member.id})" class="text-red-600 hover:text-red-800" title="Delete">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }
        
        function getSectionColor(section) {
            const colors = {
                'Frontend': 'bg-blue-100 text-blue-700',
                'Backend': 'bg-green-100 text-green-700',
                'Full Stack': 'bg-purple-100 text-purple-700',
                'DevOps': 'bg-orange-100 text-orange-700',
                'Data/Analytics': 'bg-pink-100 text-pink-700',
                'QA': 'bg-red-100 text-red-700',
                'Management': 'bg-slate-100 text-slate-700'
            };
            return colors[section] || 'bg-slate-100 text-slate-700';
        }
        
        function filterTeam(section) {
            document.querySelectorAll('.filter-btn').forEach(btn => {
                if (btn.dataset.filter === section) {
                    btn.className = 'filter-btn px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium transition';
                } else {
                    btn.className = 'filter-btn px-4 py-2 bg-white text-slate-600 border border-slate-300 rounded-lg text-sm font-medium hover:bg-slate-50 transition';
                }
            });
            
            renderTeam(section);
        }
        
        function editMember(id) {
            const member = team.find(m => m.id === id);
            if (!member) return;
            
            document.getElementById('memberName').value = member.name;
            document.getElementById('memberRole').value = member.role;
            document.getElementById('memberSection').value = member.section;
            document.getElementById('memberReportsTo').value = member.reportsTo;
            document.getElementById('memberEmail').value = member.email;
            document.getElementById('memberPhone').value = member.phone;
            document.getElementById('memberLocation').value = member.location;
            document.getElementById('memberStatus').value = member.status;
            document.getElementById('memberSkills').value = member.skills.join(', ');
            
            team = team.filter(m => m.id !== id);
            localStorage.setItem('tf_team', JSON.stringify(team));
            renderTeam();
            updateStats();
            
            document.getElementById('teamForm').scrollIntoView({ behavior: 'smooth' });
        }
        
        function deleteMember(id) {
            if (!confirm('Remove this team member?')) return;
            
            team = team.filter(m => m.id !== id);
            localStorage.setItem('tf_team', JSON.stringify(team));
            renderTeam();
            updateStats();
            showNotification('Team member removed');
        }
        
        function updateStats() {
            document.getElementById('totalMembers').textContent = team.length;
            document.getElementById('frontendCount').textContent = team.filter(m => m.section === 'Frontend').length;
            document.getElementById('backendCount').textContent = team.filter(m => m.section === 'Backend').length;
            document.getElementById('fullstackCount').textContent = team.filter(m => m.section === 'Full Stack').length;
        }
        
        function clearForm() {
            document.getElementById('teamForm').reset();
        }
        
        function exportTeam() {
            const data = {
                team: team,
                exportDate: new Date().toISOString(),
                totalMembers: team.length
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `development-team-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            
            showNotification('Team data exported');
        }
        
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
        
        function showNotification(message) {
            const div = document.createElement('div');
            div.className = 'fixed bottom-4 right-4 px-6 py-3 bg-green-600 text-white rounded-lg shadow-lg z-50 flex items-center gap-2';
            div.innerHTML = `<i class="fas fa-check-circle"></i> ${message}`;
            document.body.appendChild(div);
            setTimeout(() => div.remove(), 3000);
        }
        
        // Initialize
        renderTeam();
        updateStats();
    </script>
</body>
</html>
